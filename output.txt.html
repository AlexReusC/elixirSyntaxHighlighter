<html><head><link rel='stylesheet' href='styles.css'></head><code><a style='color:violet;'>defmodule</a><a> </a><a style='color:gold;'>Dfa</a><a> </a><a style='color:violet;'>do</a><div>
</div><a>    </a><a style='color:violet;'>def</a><a> </a><a style='color:sandybrown;'>ex1</a><a> </a><a style='color:violet;'>do</a><div>
</div><a>      </a><a style='color:red;'>{</a><a> </a><a style='color:#2a6edb;'>0</a><a style='color:red;'>,</a><a> </a><a style='color:red;'>[</a><a style='color:#2a6edb;'>3</a><a style='color:red;'>]</a><a style='color:red;'>,</a><div>
</div><a>      </a><a style='color:red;'>[</a><div>
</div><a>        </a><a style='color:red;'>{</a><a style='color:#2a6edb;'>0</a><a style='color:red;'>,</a><a> </a><a style='color:#2a6edb;'>?a</a><a style='color:red;'>,</a><a> </a><a style='color:#2a6edb;'>1</a><a style='color:red;'>}</a><a style='color:red;'>,</a><div>
</div><a>        </a><a style='color:red;'>{</a><a style='color:#2a6edb;'>0</a><a style='color:red;'>,</a><a> </a><a style='color:#2a6edb;'>?b</a><a style='color:red;'>,</a><a> </a><a style='color:#2a6edb;'>0</a><a style='color:red;'>}</a><a style='color:red;'>,</a><div>
</div><a>        </a><a style='color:red;'>{</a><a style='color:#2a6edb;'>1</a><a style='color:red;'>,</a><a> </a><a style='color:#2a6edb;'>?a</a><a style='color:red;'>,</a><a> </a><a style='color:#2a6edb;'>1</a><a style='color:red;'>}</a><a style='color:red;'>,</a><div>
</div><a>        </a><a style='color:red;'>{</a><a style='color:#2a6edb;'>1</a><a style='color:red;'>,</a><a> </a><a style='color:#2a6edb;'>?b</a><a style='color:red;'>,</a><a> </a><a style='color:#2a6edb;'>2</a><a style='color:red;'>}</a><a style='color:red;'>,</a><div>
</div><a>        </a><a style='color:red;'>{</a><a style='color:#2a6edb;'>2</a><a style='color:red;'>,</a><a> </a><a style='color:#2a6edb;'>?a</a><a style='color:red;'>,</a><a> </a><a style='color:#2a6edb;'>1</a><a style='color:red;'>}</a><a style='color:red;'>,</a><div>
</div><a>        </a><a style='color:red;'>{</a><a style='color:#2a6edb;'>2</a><a style='color:red;'>,</a><a> </a><a style='color:#2a6edb;'>?b</a><a style='color:red;'>,</a><a> </a><a style='color:#2a6edb;'>3</a><a style='color:red;'>}</a><a style='color:red;'>,</a><div>
</div><a>        </a><a style='color:red;'>{</a><a style='color:#2a6edb;'>3</a><a style='color:red;'>,</a><a> </a><a style='color:#2a6edb;'>?a</a><a style='color:red;'>,</a><a> </a><a style='color:#2a6edb;'>1</a><a style='color:red;'>}</a><a style='color:red;'>,</a><div>
</div><a>        </a><a style='color:red;'>{</a><a style='color:#2a6edb;'>3</a><a style='color:red;'>,</a><a> </a><a style='color:#2a6edb;'>?b</a><a style='color:red;'>,</a><a> </a><a style='color:#2a6edb;'>0</a><a style='color:red;'>}</a><div>
</div><a>    </a><div>
</div><a>        </a><div>
</div><a>      </a><a style='color:red;'>}</a><div>
</div><a>    </a><a style='color:violet;'>end</a><div>
</div><a>  </a><div>
</div><a>  </a><div>
</div><a>    </a><a style='color:violet;'>def</a><a> </a><a style='color:sandybrown;'>simulate</a><a style='color:red;'>(</a><a style='color:grey;'>_delta</a><a style='color:red;'>,</a><a> </a><a style='color:sandybrown;'>f</a><a style='color:red;'>,</a><a> </a><a style='color:sandybrown;'>state</a><a style='color:red;'>,</a><a> </a><a style='color:red;'>[</a><a style='color:red;'>]</a><a style='color:red;'>)</a><a style='color:red;'>,</a><a> </a><a style='color:#2a6edb;'>do:</a><a> </a><a style='color:sandybrown;'>state</a><a> </a><a style='color:violet;'>in</a><a> </a><a style='color:sandybrown;'>f</a><div>
</div><a>  </a><div>
</div><a>  </a><div>
</div><a>    </a><a style='color:violet;'>def</a><a> </a><a style='color:sandybrown;'>simulate</a><a style='color:red;'>(</a><a style='color:sandybrown;'>delta</a><a style='color:red;'>,</a><a> </a><a style='color:sandybrown;'>f</a><a style='color:red;'>,</a><a> </a><a style='color:sandybrown;'>state</a><a style='color:red;'>,</a><a> </a><a style='color:sandybrown;'>input</a><a style='color:red;'>)</a><a> </a><a style='color:violet;'>do</a><div>
</div><a>      </a><a style='color:red;'>{</a><a style='color:grey;'>_</a><a style='color:red;'>,</a><a> </a><a style='color:grey;'>_</a><a style='color:red;'>,</a><a> </a><a style='color:sandybrown;'>state2</a><a style='color:red;'>}</a><a> </a><a style='color:red;'>=</a><a> </a><a style='color:gold;'>Enum</a><a style='color:red;'>.</a><a style='color:sandybrown;'>filter</a><a style='color:red;'>(</a><a style='color:sandybrown;'>delta</a><a style='color:red;'>,</a><a> </a><a style='color:violet;'>fn</a><a> </a><a style='color:sandybrown;'>x</a><a> </a><a style='color:red;'>-</a><a style='color:red;'>></a><div>
</div><a>        </a><a style='color:red;'>{</a><a style='color:sandybrown;'>initial</a><a style='color:red;'>,</a><a> </a><a style='color:sandybrown;'>trans</a><a style='color:red;'>,</a><a> </a><a style='color:grey;'>_final</a><a style='color:red;'>}</a><a> </a><a style='color:red;'>=</a><a> </a><a style='color:sandybrown;'>x</a><div>
</div><a>        </a><a style='color:sandybrown;'>initial</a><a> </a><a style='color:red;'>==</a><a> </a><a style='color:sandybrown;'>state</a><a> </a><a style='color:red;'>&&</a><a> </a><a style='color:sandybrown;'>hd</a><a style='color:red;'>(</a><a style='color:sandybrown;'>input</a><a style='color:red;'>)</a><a> </a><a style='color:red;'>==</a><a> </a><a style='color:sandybrown;'>trans</a><div>
</div><a>      </a><a style='color:violet;'>end</a><a style='color:red;'>)</a><a> </a><a style='color:red;'>|></a><a> </a><a style='color:sandybrown;'>hd</a><div>
</div><a>      </a><a style='color:sandybrown;'>simulate</a><a style='color:red;'>(</a><a style='color:sandybrown;'>delta</a><a style='color:red;'>,</a><a> </a><a style='color:sandybrown;'>f</a><a style='color:red;'>,</a><a> </a><a style='color:sandybrown;'>state2</a><a style='color:red;'>,</a><a> </a><a style='color:sandybrown;'>tl</a><a style='color:red;'>(</a><a style='color:sandybrown;'>input</a><a style='color:red;'>)</a><a style='color:red;'>)</a><div>
</div><a>  </a><div>
</div><a>    </a><a style='color:violet;'>end</a><div>
</div><a>  </a><div>
</div><a>  </a><a style='color:violet;'>end</a></code></html>