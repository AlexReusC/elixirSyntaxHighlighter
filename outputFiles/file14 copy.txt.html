<html><head><link rel='stylesheet' href='styles.css'></head><code><a style='color:sandybrown;'>efmodule</a><a> </a><a style='color:gold;'>Beef</a><a style='color:red;'>.</a><a style='color:gold;'>Schemas</a><a style='color:red;'>.</a><a style='color:gold;'>Follow</a><a> </a><a style='color:violet;'>do</a><div>
</div><a>  </a><a style='color:sandybrown;'>use</a><a> </a><a style='color:gold;'>Ecto</a><a style='color:red;'>.</a><a style='color:gold;'>Schema</a><div>
</div><a>  </a><a style='color:violet;'>import</a><a> </a><a style='color:gold;'>Ecto</a><a style='color:red;'>.</a><a style='color:gold;'>Changeset</a><div>
</div><a>  </a><a style='color:red;'>@</a><a style='color:sandybrown;'>timestamps_opts</a><a> </a><a style='color:red;'>[</a><a style='color:#2a6edb;'>type:</a><a> </a><a style='color:aquamarine;'>:utc_datetime_usec</a><a style='color:red;'>]</a><div>
</div><div>
</div><a>  </a><a style='color:violet;'>alias</a><a> </a><a style='color:gold;'>Beef</a><a style='color:red;'>.</a><a style='color:gold;'>Schemas</a><a style='color:red;'>.</a><a style='color:gold;'>User</a><div>
</div><div>
</div><a>  </a><a style='color:red;'>@</a><a style='color:sandybrown;'>type</a><a> </a><a style='color:sandybrown;'>t</a><a> </a><a style='color:aquamarine;'>::</a><a> </a><a style='color:red;'>%</a><a style='color:grey;'>__MODULE__</a><a style='color:red;'>{</a><div>
</div><a>          </a><a style='color:#2a6edb;'>userId:</a><a> </a><a style='color:gold;'>Ecto</a><a style='color:red;'>.</a><a style='color:gold;'>UUID</a><a style='color:red;'>.</a><a style='color:sandybrown;'>t</a><a style='color:red;'>(</a><a style='color:red;'>)</a><a style='color:red;'>,</a><div>
</div><a>          </a><a style='color:#2a6edb;'>followerId:</a><a> </a><a style='color:gold;'>Ecto</a><a style='color:red;'>.</a><a style='color:gold;'>UUID</a><a style='color:red;'>.</a><a style='color:sandybrown;'>t</a><a style='color:red;'>(</a><a style='color:red;'>)</a><div>
</div><a>        </a><a style='color:red;'>}</a><div>
</div><div>
</div><a>  </a><a style='color:red;'>@</a><a style='color:sandybrown;'>primary_key</a><a> </a><a style='color:#2a6edb;'>false</a><div>
</div><a>  </a><a style='color:sandybrown;'>schema</a><a> </a><a style='color:greenyellow;'>"followers"</a><a> </a><a style='color:violet;'>do</a><div>
</div><a>    </a><a style='color:grey;'># person who is being followed</a><div>
</div><a>    </a><a style='color:sandybrown;'>belongs_to</a><a style='color:red;'>(</a><a style='color:aquamarine;'>:user</a><a style='color:red;'>,</a><a> </a><a style='color:gold;'>User</a><a style='color:red;'>,</a><a> </a><a style='color:#2a6edb;'>foreign_key:</a><a> </a><a style='color:aquamarine;'>:userId</a><a style='color:red;'>,</a><a> </a><a style='color:#2a6edb;'>type:</a><a> </a><a style='color:aquamarine;'>:binary_id</a><a style='color:red;'>)</a><div>
</div><a>    </a><a style='color:grey;'># person who is following</a><div>
</div><a>    </a><a style='color:sandybrown;'>belongs_to</a><a style='color:red;'>(</a><a style='color:aquamarine;'>:follower</a><a style='color:red;'>,</a><a> </a><a style='color:gold;'>User</a><a style='color:red;'>,</a><a> </a><a style='color:#2a6edb;'>foreign_key:</a><a> </a><a style='color:aquamarine;'>:followerId</a><a style='color:red;'>,</a><a> </a><a style='color:#2a6edb;'>type:</a><a> </a><a style='color:aquamarine;'>:binary_id</a><a style='color:red;'>)</a><div>
</div><div>
</div><a>    </a><a style='color:sandybrown;'>timestamps</a><a style='color:red;'>(</a><a style='color:red;'>)</a><div>
</div><a>  </a><a style='color:violet;'>end</a><div>
</div><div>
</div><a>  </a><a style='color:red;'>@</a><a style='color:sandybrown;'>doc</a><a> </a><a style='color:#2a6edb;'>false</a><div>
</div><a>  </a><a style='color:violet;'>def</a><a> </a><a style='color:sandybrown;'>insert_changeset</a><a style='color:red;'>(</a><a style='color:sandybrown;'>follow</a><a style='color:red;'>,</a><a> </a><a style='color:sandybrown;'>attrs</a><a style='color:red;'>)</a><a> </a><a style='color:violet;'>do</a><div>
</div><a>    </a><a style='color:sandybrown;'>follow</a><div>
</div><a>    </a><a style='color:red;'>|></a><a> </a><a style='color:sandybrown;'>cast</a><a style='color:red;'>(</a><a style='color:sandybrown;'>attrs</a><a style='color:red;'>,</a><a> </a><a style='color:red;'>[</a><a style='color:aquamarine;'>:userId</a><a style='color:red;'>,</a><a> </a><a style='color:aquamarine;'>:followerId</a><a style='color:red;'>]</a><a style='color:red;'>)</a><div>
</div><a>    </a><a style='color:red;'>|></a><a> </a><a style='color:sandybrown;'>validate_required</a><a style='color:red;'>(</a><a style='color:red;'>[</a><a style='color:aquamarine;'>:userId</a><a style='color:red;'>,</a><a> </a><a style='color:aquamarine;'>:followerId</a><a style='color:red;'>]</a><a style='color:red;'>)</a><div>
</div><a>    </a><a style='color:red;'>|></a><a> </a><a style='color:sandybrown;'>unique_constraint</a><a style='color:red;'>(</a><a style='color:aquamarine;'>:already_following</a><a style='color:red;'>,</a><a> </a><a style='color:#2a6edb;'>name:</a><a> </a><a style='color:greenyellow;'>"followers_pkey"</a><a style='color:red;'>)</a><div>
</div><a>  </a><a style='color:violet;'>end</a><div>
</div><a style='color:violet;'>end</a></code></html>